@using _12Mart2022.Models.EntityFramework
@model List<Departman>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<a class="btn btn-success" href="/Departman/Yeni">Yeni Departman</a>
<h2>Departman Listesi</h2>
<table class="table table-bordered" id="tblDepartmanlar">
    <thead>
        <tr>
            <th>ID</th>
            <th>Ad</th>
            <th>Güncelle</th>
            <th>Sil</th>
            <th>Personelleri Listele</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var departman in Model)
        {
            <tr>
                <th>@departman.Id</th>
                <th>@departman.Ad</th>
                <th><a class="btn btn-primary" href="/Departman/Guncelle/@departman.Id">Güncelle </a></th>
                <th><a class="btn btn-warning btnDepartmanSil" data-id="@departman.Id">Sil </a></th>
                @*<th>@Html.ActionLink("Personelleri Göster","PersonelleriListele","Personel"
                   ,new {id=departman.Id}, new {@class="btn btn-primary"})</th>*@
                <th>@Ajax.ActionLink("Personelleri Göster","PersonelleriListele","Personel"
                   ,new {id = departman.Id },new AjaxOptions {HttpMethod="GET",UpdateTargetId="personelListesi" }
                   ,new {@class="btn btn-primary"})</th>


            </tr>
        }

    </tbody>

</table>

<div id="personelListesi"></div>